# Unit tests for the Artie CAN library.
# Runs pytest suite to validate all CAN protocols.
name: artie-can-unit-tests
labels:
  - docker-image
  - unit
dependencies:
  - artie-can-test-image: docker-image
type: test
steps:
  - job: single-container-sanity-suite
    steps:
      - test-name: run-all-unit-tests
        docker-image-under-test:
          dependency:
            name: docker-image
            producing-task: artie-can-test-image
        cmd-to-run-in-dut: "pytest /artie-can/tests/ -v --tb=short --color=yes"
